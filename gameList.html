<!-- Lista gier -->
<div class="container">
    <h2 class="mt-5">Gry i zabawy:</h2>
    <div class="row" id="game-list-container">
        <!-- Gry zostaną wczytane tutaj przez JS -->
    </div>
</div>

<script>
document.addEventListener("DOMContentLoaded", function () {
    fetch("games/games.json")
        .then(res => res.json())
        .then(games => {
            const container = document.getElementById("game-list-container");

            games.forEach(game => {
                const col = document.createElement("div");
                col.className = "col-md-4";

                col.innerHTML = `
                    <div class="card mb-4" style="height:95%;">
                        <img src="${game.image}" class="card-img-top" alt="${game.title}" style="height: 200px; object-fit: cover;">
                        <div class="card-body d-flex flex-column">
                            <h5 class="card-title">${game.title}</h5>
                            <p class="card-text" style="flex-grow: 1;">
                                ${game.description.length > 170 ? game.description.slice(0,170) + "..." : game.description}
                            </p>
                            <p class="card-text"><strong>Potrzebny sprzęt:</strong> ${game.equipment}</p>
                            <button type="button" 
                                class="btn btn-sm btn-outline-secondary read-more" 
                                data-title="${game.title}" 
                                data-description="${game.description}" 
                                data-image="${game.image}" 
                                data-equipment="${game.equipment}" 
                                data-variety="${game.variety || ''}" 
                                data-comment="${game.comment || ''}">
                                Czytaj dalej
                            </button>
                        </div>
                    </div>
                `;

                container.appendChild(col);
            });
        })
        .catch(error => console.error("Błąd wczytywania gier:", error));
});
</script>
